<mvc:View controllerName="bafar.flujos.flujos.controller.Tabla.FlujoTabla"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:c="sap.ui.core"
    xmlns:layout="sap.ui.layout"
    xmlns:unified="sap.ui.unified" displayBlock="true" height="100%" busyIndicatorDelay="0">

    <Toolbar height="4rem">
        <content>
            <Title id="listTitle" text="{i18n>totalPosiciones}" class="sapUiSmallMarginBegin" titleStyle="H4"/>
            <ToolbarSpacer id="space1"/>
            <layout:HorizontalLayout allowWrapping="false">
                <layout:content>
                    <Button icon="sap-icon://add" class="sapUiTinyMarginEnd" type="Transparent" press="onAddLine"></Button>
                    <Label id="cargaXLSX" text="{i18n>cargandoXLSX}" class="blink" visible="false"/>                    
                    <unified:FileUploader id="Add1" iconOnly="true" buttonOnly="true" icon="sap-icon://excel-attachment" tooltip="{i18n>XLSX}" uploadComplete="onHandleUploadComplete" uploadOnChange="true" enabled="true" fileType="xlsx" uploadStart="onHandleUploadStart" change="onHandleUploadStart" class="sapUiTinyMarginEnd" iconHovered="sap-icon://accelerated" />
                    <Button id="Down1" text="{= ${device>/system/phone}?'':${i18n>XLSXdown}}" icon="sap-icon://download" tooltip="{i18n>XLSXdown}" press="onDownTemplate" type="Transparent"/>                    
                </layout:content>
            </layout:HorizontalLayout>
        </content>
    </Toolbar>
    <ScrollContainer height="100%" width="100%" vertical="true" focusable="true">
        <Table id="lineItemsList" width="auto" items="{path:'tablaFlujo>/', templateShareable:false}" noDataText="{i18n>detailLineItemTableNoDataText}" busyIndicatorDelay="{detailView>/lineItemTableDelay}" mode="MultiSelect" selectionChange="detailTabSelect" fixedLayout="false">
            <columns>
                <Column>
                    <Text text="Item" width="100px"/>
                </Column>
                <Column hAlign="End">
                    <Text text="No. Personal" width="100px"/>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
                    <Text text="Nombre" width="100px"/>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
                    <Text text="A.N." width="100px"/>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
                    <Text text="Fecah Ingreso" width="100px"/>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
                    <Text text="CC nom." width="100px"/>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
                    <Text text="Texto CC" width="100px"/>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
                    <Text text="Motivo" width="100px"/>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
                    <Text text="P.Ini" width="100px"/>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
                    <Text text="A.Ini" width="100px"/>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
                    <Text text="Fecha Inicio" width="100px"/>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
                    <Text text="Fecha Fin" width="100px"/>
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End">
                    <Text text="Importe" width="100px"/>
                </Column>
            </columns>
            <items>
                <ColumnListItem class="lineItemSucc" highlight="Success" type="Navigation" press="onItemPress">
                    <cells>
                        <Button id="colList" text="{tablaFlujo>C1}"/>
                        <Input id="inputNombre" change="onInputChange" class="valInput"/>
                        <Text text="{tablaFlujo>C2}"/>
                        <Text text="{tablaFlujo>C3}"/>
                        <Text text="{tablaFlujo>C4}"/>
                        <Input id="inputCCnom" class="valInput"/>
                        <Text text="{tablaFlujo>C5}"/>
                        <Input id="inputPagoFaltante" class="valInput"/>
                        <Input id="inputPini" class="valInput"/>
                        <Input id="inputAini" class="valInput"/>
                        <Text text="{tablaFlujo>C6}"/>
                        <Input id="inputPfin" class="valInput"/>
                        <Input id="inputAfin" class="valInput"/>
                        <Text text="{tablaFlujo>C7}"/>
                        <Input id="inputImporte" class="valInput"/>
                    </cells>
                    <dependents>                        
                        <ResponsivePopover id="popover" placement="PreferredTopOrFlip" resizable="true">
                            <layout:VerticalLayout class="sapUiContentPadding" width="100%">
                                <layout:content>
                                    <Text id="infoPopUpText"></Text>
                                </layout:content>
                            </layout:VerticalLayout>
                        </ResponsivePopover>
                    </dependents>
                </ColumnListItem>
            </items>
        </Table>
        <Button text="testoVal" press="validar"></Button>
    </ScrollContainer>
</mvc:View>