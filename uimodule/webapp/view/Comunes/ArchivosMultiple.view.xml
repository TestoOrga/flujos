<mvc:View controllerName="bafar.flujos.flujos.controller.Comunes.ArchivosMultiple"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:c="sap.ui.core"
    xmlns:layout="sap.ui.layout"
    xmlns:u="sap.ui.unified" displayBlock="true" height="100%" busyIndicatorDelay="0">
    <Panel expandable="true" width="auto" class="sapUiResponsiveMargin" backgroundDesign="Solid" headerText="{i18n>Comunes.archivosExtra}">

        <content>
            <!-- <List id="idList" items="{files>/}" selectionChange="onSelectionChange" mode="MultiSelect" includeItemInSelection="true"> -->
            <Table id="lineItemsList" width="auto" items="{path:'files>/', templateShareable:false}" noDataText="{i18n>archivosMultipleView.NoHayArchivosCargados}" busyIndicatorDelay="{detailView>/lineItemTableDelay}" selectionChange="detailTabSelect">
                <infoToolbar>
                    <OverflowToolbar visible="true" id="idInfoToolbar" design="Transparent">
                        <!-- <Label id="idFilterLabel" text="testo"/> -->
                        <SearchField liveChange="onSearch" width="100%"/>
                    </OverflowToolbar>
                </infoToolbar>
                <columns>
                    <Column width="auto">
                        <Text text="{i18n>archivosMultipleView.Nombre}"/>
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End" width="auto">
                        <Text text="{i18n>archivosMultipleView.Detalles}"/>
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" hAlign="End" width="auto">
                        <Text text=" "/>
                    </Column>
                </columns>
                <items>
                    <ColumnListItem >
                        <cells>
                            <ObjectIdentifier title="{files>Archivo}" text="{files>Iddoc}" class="sapUiTinyMarginTopBottom"/>
                            <VBox>
                                <HBox alignContent="Center">
                                    <Label text="{i18n>archivosMultipleView.FechaCreacion}" class="sapUiTinyMarginEnd"/>
                                    <Text text="{ path: 'files>Erdat', formatter: '.formatter.date' }" />
                                </HBox>
                            </VBox>
                            <HBox justifyContent="End" alignContent="Center">
                                <Button icon="sap-icon://download-from-cloud" class="myDetailTabButton sapUiTinyMarginEnd" press="onDownFile" />
                                <Button icon="sap-icon://delete" press="onItemDelete"/>
                            </HBox>
                        </cells>
                    </ColumnListItem>
                </items>
                <!-- </List> -->
            </Table>
        </content>
    </Panel>
</mvc:View>